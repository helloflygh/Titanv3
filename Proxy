<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Base64 Iframe Generator</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding-top: 50px; background: #f4f4f9; }
        .container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        input { width: 300px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
        button { padding: 10px 20px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 4px; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>

<div class="container">
    <h2>Search Bar</h2>
    <input type="text" id="userInput" placeholder="Enter text to encode...">
    <button onclick="launchIframe()">Go</button>
</div>

<script>
    function launchIframe() {
        const input = document.getElementById('userInput').value;
        const domain = "https://example.com/"; // Replace with your desired domain
        
        // 1. Encode input to Base64
        // btoa() creates a Base64 string from binary data
        const encoded = btoa(input);
        
        // 2. Combine domain and encoded string
        const fullUrl = domain + encoded;

        // 3. Open about:blank
        const newWin = window.open('about:blank', '_blank');

        // 4. Inject the Iframe into the about:blank page
        if (newWin) {
            newWin.document.write(`
                <style>
                    body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
                    iframe { width: 100%; height: 100%; border: none; }
                </style>
                <iframe src="${fullUrl}"></iframe>
            `);
            newWin.document.close();
        } else {
            alert("Pop-up blocked! Please allow pop-ups for this site.");
        }
    }
</script>

</body>
</html>
