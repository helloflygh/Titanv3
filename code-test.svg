<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <foreignObject width="100%" height="100%">
    <div xmlns="http://www.w3.org/1999/xhtml" id="content-area" style="font-family: sans-serif; color: white; background: #000; height: 100vh; padding: 20px; overflow: auto;">
      Attempting to boot Titan v3 via jsDelivr...
    </div>
  </foreignObject>

  <script type="application/ecmascript">
    <![CDATA[
    (async function autoLoad() {
        // We use jsDelivr to get the file correctly
        const rawUrl = 'https://cdn.jsdelivr.net/gh/helloflygh/Titanv3@main/startup';
        // We wrap it in a proxy to kill any remaining CORS blocks
        const githubUrl = 'https://corsproxy.io/?' + encodeURIComponent(rawUrl);
        
        const container = document.getElementById('content-area');

        try {
            const response = await fetch(githubUrl);
            if (!response.ok) throw new Error('CDN Link Failed');
            
            const html = await response.text();
            container.innerHTML = html;

            // Re-run the scripts inside the loaded HTML
            const scripts = container.querySelectorAll("script");
            scripts.forEach(oldScript => {
                const newScript = document.createElement("script");
                Array.from(oldScript.attributes).forEach(attr => {
                    newScript.setAttribute(attr.name, attr.value);
                });
                newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                oldScript.parentNode.replaceChild(newScript, oldScript);
            });

        } catch (err) {
            container.innerHTML = "<div style='color:red;'>Titan v3 Boot Error: " + err.message + "</div>";
        }
    })();
    ]]>
  </script>
</svg>
