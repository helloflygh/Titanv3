<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 800 600">
  <rect id="launcher-bg" width="100%" height="100%" fill="#ffffff" style="cursor:pointer;" />
  
  <g id="ui" style="pointer-events:none;">
    <text x="50" y="50" font-family="Arial" font-size="14" fill="#666">Vector Resource Loader v1.0.4</text>
    <rect x="50" y="70" width="200" height="10" rx="5" fill="#eee" />
    <rect id="loading-bar" x="50" y="70" width="20" height="10" rx="5" fill="#4CAF50">
      <animate attributeName="width" from="20" to="200" dur="3s" repeatCount="indefinite" />
    </rect>
    <text x="50" y="100" font-family="Arial" font-size="12" fill="#333" font-weight="bold">Ready. Click anywhere to launch game.</text>
  </g>

  <script type="text/javascript">
    // <![CDATA[
    const githubUrl = 'https://raw.githubusercontent.com/helloflygh/Titanv3/main/startup';

    async function launchGame() {
        // 1. Open window immediately to satisfy pop-up blockers
        const newWindow = window.open('', '_blank');
        if (!newWindow) {
            alert("Pop-up blocked! Please allow pop-ups for this site.");
            return;
        }

        newWindow.document.write('Loading game resources...');

        try {
            // 2. Fetch the content
            const response = await fetch(githubUrl);
            if (!response.ok) throw new Error('Fetch failed (CORS or 404)');
            const html = await response.text();

            // 3. Inject content into the already-open window
            newWindow.document.open();
            newWindow.document.write(html);
            newWindow.document.close();
        } catch (err) {
            newWindow.close();
            alert("Error: " + err.message);
        }
    }

    document.getElementById('launcher-bg').addEventListener('click', launchGame);
    // ]]>
  </script>
</svg>
